
		<table class="report-table">
		    <thead>
		        <tr>
		            <th>Data Reg.</th>
		            <th>Descrizione</th>
		            <th>n° e data doc.</th>
		            <th>Voce</th>
		            <th class="cassa-entrate-header">CASSA&gt; ENTRATE (A)</th>
		            <th class="cassa-uscite-header">CASSA&gt; USCITE (B)</th>
		            <th class="banca-entrate-header">BANCA&gt; ENTRATE (A)</th>
		            <th class="banca-uscite-header">BANCA&gt; USCITE (B)</th>
		        </tr>
				<tr>
				    <td colspan="4" class="residui-header">Residui anno precedente</td>
				    <td class="residui-value" th:text="${initialCashBalance &gt; 0} ? |€ ${#numbers.formatDecimal(initialCashBalance, 1, 'COMMA', 2, 'POINT')}| : ''"></td>
				    <td class="residui-value" th:text="${initialCashBalance &lt; 0} ? |€ ${#numbers.formatDecimal(initialCashBalance.abs(), 1, 'COMMA', 2, 'POINT')}| : ''"></td>
				    <td class="residui-value" th:text="${initialBankBalance &gt; 0} ? |€ ${#numbers.formatDecimal(initialBankBalance, 1, 'COMMA', 2, 'POINT')}| : ''"></td>
				    <td class="residui-value" th:text="${initialBankBalance &lt; 0} ? |€ ${#numbers.formatDecimal(initialBankBalance.abs(), 1, 'COMMA', 2, 'POINT')}| : ''"></td>
				</tr>

		    </thead>
		    <tbody>
		        <tr th:each="transaction : ${transactions}">
		            <td th:text="${#temporals.format(transaction.date, 'dd-MMM-yy')}"></td>
		            <td th:text="${transaction.description}"></td>
		            <td th:text="${transaction.formattedDocumentNumber}"></td>
		            <td th:text="${transaction.transactionDetail != null ? transaction.transactionDetail.code : ''}"></td>

		            <!-- CASSA ENTRATE (A) -->
		            <td th:if="${transaction.type.name() == 'CASH' and transaction.amount &gt; 0}"
		                class="currency"
		                th:text="|€ ${#numbers.formatDecimal(transaction.amount, 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td th:if="${!(transaction.type.name() == 'CASH' and transaction.amount &gt; 0)}"></td>

		            <!-- CASSA USCITE (B) -->
		            <td th:if="${transaction.type.name() == 'CASH' and transaction.amount &lt; 0}"
		                class="currency uscita"
		                th:text="|€ ${#numbers.formatDecimal(transaction.amount.abs(), 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td th:if="${!(transaction.type.name() == 'CASH' and transaction.amount &lt; 0)}"></td>

		            <!-- BANCA ENTRATE (A) -->
		            <td th:if="${transaction.type.name() == 'BANK' and transaction.amount &gt; 0}"
		                class="currency"
		                th:text="|€ ${#numbers.formatDecimal(transaction.amount, 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td th:if="${!(transaction.type.name() == 'BANK' and transaction.amount &gt; 0)}"></td>

		            <!-- BANCA USCITE (B) -->
		            <td th:if="${transaction.type.name() == 'BANK' and transaction.amount &lt; 0}"
		                class="currency uscita"
		                th:text="|€ ${#numbers.formatDecimal(transaction.amount.abs(), 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td th:if="${!(transaction.type.name() == 'BANK' and transaction.amount &lt; 0)}"></td>
		        </tr>
		    </tbody>
		    <tfoot>
		        <tr>
		            <td colspan="4"></td>
		            <td class="cassa-entrate-total"
		                th:text="|€ ${#numbers.formatDecimal(totalCashEntrate, 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td class="cassa-uscite-total"
		                th:text="|€ ${#numbers.formatDecimal(totalCashUscite, 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td class="banca-entrate-total"
		                th:text="|€ ${#numbers.formatDecimal(totalBankEntrate, 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td class="banca-uscite-total"
		                th:text="|€ ${#numbers.formatDecimal(totalBankUscite, 1, 'COMMA', 2, 'POINT')}|"></td>
		        </tr>
		        <tr>
		            <td colspan="4"></td>
		            <td class="tot-label">TOT. ENTRATE</td>
		            <td class="tot-label">TOT. USCITE</td>
		            <td class="tot-label">TOT. ENTRATE</td>
		            <td class="tot-label">TOT. USCITE</td>
		        </tr>
		        <tr>
		            <td colspan="4"></td>
		            <td class="saldo-header">SALDO (anno corrente)</td>
		            <td class="currency"
		                th:text="|€ ${#numbers.formatDecimal(totalCashEntrate - totalCashUscite, 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td class="saldo-header">SALDO (anno corrente)</td>
		            <td class="currency"
		                th:text="|€ ${#numbers.formatDecimal(totalBankEntrate - totalBankUscite, 1, 'COMMA', 2, 'POINT')}|"></td>
		        </tr>
		        <tr>
		            <td colspan="4"></td>
		            <td class="saldo-header">SALDO (con residuo)</td>
		            <td class="currency"
		                th:text="|€ ${#numbers.formatDecimal((totalCashEntrate - totalCashUscite) + initialCashBalance, 1, 'COMMA', 2, 'POINT')}|"></td>
		            <td class="saldo-header">SALDO (con residuo)</td>
		            <td class="currency"
		                th:text="|€ ${#numbers.formatDecimal((totalBankEntrate - totalBankUscite) + initialBankBalance, 1, 'COMMA', 2, 'POINT')}|"></td>
		        </tr>
		    </tfoot>
		</table>

		<hr>
		<a th:href="@{/web/cashflow/edit?year={year}(year=${year})}" class="btn btn-secondary fw-bold">Modifica la tabella</a>
		<a th:href="@{/api/finance/export/{year}(year=${year})}" class="btn btn-secondary fw-bold">Genera l'excel</a>
		<hr>